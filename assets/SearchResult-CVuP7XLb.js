import{u as I,g as te,h as ae,i as M,j as re,P as le,t as se,k as oe,l as L,m as F,n as ue,p as U,q as a,s as ie,R as P,v as ne,x as Ee,y as ce,C as he,z as Ae,A as ge,B as pe,D as Be,E as ye,F as f,G as ve,H as me,I as de,J as T,K as O,L as Ce}from"./app-CARu8aWL.js";const ze=["/","/portfolio.html","/blog/","/zh/algorithm/","/zh/computer/","/zh/learning/","/zh/project/","/zh/algorithm/STL/Vector.html","/zh/learning/blogCreate/","/zh/learning/blogCreate/config.html","/zh/learning/blogCreate/create.html","/zh/learning/blogCreate/deploy.html","/zh/learning/blogCreate/env.html","/zh/learning/problemCreate/","/zh/learning/problemCreate/notion.html","/zh/learning/problemCreate/polygon.html","/zh/learning/problemCreate/upload.html","/zh/learning/zhaoPinCrawler/","/zh/learning/zhaoPinCrawler/env.html","/zh/learning/zhaoPinCrawler/processing.html","/zh/learning/zhaoPinCrawler/scraping.html","/zh/learning/zhaoPinCrawler/visualization.html","/zh/project/ultralytics/env.html","/zh/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/Shell%E8%AF%AD%E6%B3%95.html","/zh/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E5%9F%BA%E7%A1%80.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C__/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/Array(%E6%95%B0%E7%BB%84).html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/Go%E8%AF%AD%E8%A8%80fmt%E5%8C%85(%E8%BE%93%E5%85%A5_%E8%BE%93%E5%87%BA_%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%8D%A0%E4%BD%8D%E7%AC%A6).html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/%E5%88%87%E7%89%87.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/%E6%A0%87%E8%AF%86%E7%AC%A6%E5%92%8C%E5%85%B3%E9%94%AE%E5%AD%97.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/%E8%BF%90%E7%AE%97%E7%AC%A6.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/html/%E6%A0%87%E7%AD%BE.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C__/STL/String.html","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C__/STL/Vector.html","/404.html","/zh/","/zh/algorithm/STL/","/zh/project/ultralytics/","/zh/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/","/zh/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/zh/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/","/zh/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C__/","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/golang/","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/html/","/zh/computer/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C__/STL/","/category/","/category/vector/","/category/c__/","/category/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","/category/vuepress/","/category/tutorial/","/category/get-started/","/category/vuepress-theme-hope/","/category/github/","/category/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","/category/node.js/","/category/polygon/","/category/notion/","/category/oj/","/category/python/","/category/%E7%88%AC%E8%99%AB/","/category/jupyter-notebook/","/category/pyecharts/","/category/pandas/","/category/re/","/category/csv/","/category/drissionpage/","/category/yolo/","/category/pytorch/","/category/linux/","/category/mysql/","/category/auto-ptr/","/category/unique-ptr/","/category/shared-ptr/","/category/weak-ptr/","/category/html/","/category/string/","/tag/","/tag/stl/","/tag/project-config/","/tag/runtime/","/tag/%E7%88%AC%E8%99%AB/","/tag/boss-%E7%9B%B4%E8%81%98/","/tag/%E6%99%BA%E8%81%94%E6%8B%9B%E8%81%98/","/tag/%E5%89%8D%E7%A8%8B%E6%97%A0%E5%BF%A7/","/tag/%E5%9C%B0%E5%9B%BE/","/tag/%E6%9F%B1%E7%8A%B6%E5%9B%BE/","/tag/%E6%8A%98%E7%BA%BF%E5%9B%BE/","/tag/%E9%A5%BC%E5%9B%BE/","/tag/%E6%97%B6%E9%97%B4%E8%BD%B4/","/tag/%E8%AF%8D%E4%BA%91%E5%9B%BE/","/tag/anaconda3/","/tag/%E5%9F%BA%E7%A1%80/","/tag/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/","/tag/%E6%A0%87%E7%AD%BE/","/article/","/star/","/timeline/"],De="SEARCH_PRO_QUERY_HISTORY",y=I(De,[]),Fe=()=>{const{queryHistoryCount:r}=f,l=r>0;return{enabled:l,queryHistory:y,addQueryHistory:s=>{l&&(y.value=Array.from(new Set([s,...y.value.slice(0,r-1)])))},removeQueryHistory:s=>{y.value=[...y.value.slice(0,s),...y.value.slice(s+1)]}}},_=r=>ze[r.id]+("anchor"in r?`#${r.anchor}`:""),fe="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:$}=f,v=I(fe,[]),He=()=>{const r=$>0;return{enabled:r,resultHistory:v,addResultHistory:l=>{if(r){const s={link:_(l),display:l.display};"header"in l&&(s.header=l.header),v.value=[s,...v.value.slice(0,$-1)]}},removeResultHistory:l=>{v.value=[...v.value.slice(0,l),...v.value.slice(l+1)]}}},Se=r=>{const l=he(),s=M(),H=Ae(),u=L(0),C=F(()=>u.value>0),g=ge([]);return pe(()=>{const{search:p,terminate:S}=Be(),m=ye(E=>{const d=E.join(" "),{searchFilter:w=A=>A,splitWord:R,suggestionsFilter:x,...B}=l.value;d?(u.value+=1,p(E.join(" "),s.value,B).then(A=>w(A,d,s.value,H.value)).then(A=>{u.value-=1,g.value=A}).catch(A=>{console.warn(A),u.value-=1,u.value||(g.value=[])})):g.value=[]},f.searchDelay-f.suggestDelay);U([r,s],([E])=>m(E),{immediate:!0}),ve(()=>{S()})}),{isSearching:C,results:g}};var Re=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(r,{emit:l}){const s=ae(),H=M(),u=re(le),{enabled:C,addQueryHistory:g,queryHistory:p,removeQueryHistory:S}=Fe(),{enabled:m,resultHistory:E,addResultHistory:d,removeResultHistory:w}=He(),R=C||m,x=se(r,"queries"),{results:B,isSearching:A}=Se(x),o=oe({isQuery:!0,index:0}),c=L(0),h=L(0),q=F(()=>R&&(p.value.length>0||E.value.length>0)),b=F(()=>B.value.length>0),k=F(()=>B.value[c.value]||null),V=()=>{const{isQuery:e,index:t}=o;t===0?(o.isQuery=!e,o.index=e?E.value.length-1:p.value.length-1):o.index=t-1},Y=()=>{const{isQuery:e,index:t}=o;t===(e?p.value.length-1:E.value.length-1)?(o.isQuery=!e,o.index=0):o.index=t+1},G=()=>{c.value=c.value>0?c.value-1:B.value.length-1,h.value=k.value.contents.length-1},J=()=>{c.value=c.value<B.value.length-1?c.value+1:0,h.value=0},K=()=>{h.value<k.value.contents.length-1?h.value+=1:J()},N=()=>{h.value>0?h.value-=1:G()},Q=e=>e.map(t=>Ce(t)?t:a(t[0],t[1])),W=e=>{if(e.type==="customField"){const t=me[e.index]||"$content",[i,D=""]=de(t)?t[H.value].split("$content"):t.split("$content");return e.display.map(n=>a("div",Q([i,...n,D])))}return e.display.map(t=>a("div",Q(t)))},z=()=>{c.value=0,h.value=0,l("updateQuery",""),l("close")},X=()=>C?a("ul",{class:"search-pro-result-list"},a("li",{class:"search-pro-result-list-item"},[a("div",{class:"search-pro-result-title"},u.value.queryHistory),p.value.map((e,t)=>a("div",{class:["search-pro-result-item",{active:o.isQuery&&o.index===t}],onClick:()=>{l("updateQuery",e)}},[a(T,{class:"search-pro-result-type"}),a("div",{class:"search-pro-result-content"},e),a("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:i=>{i.preventDefault(),i.stopPropagation(),S(t)}})]))])):null,Z=()=>m?a("ul",{class:"search-pro-result-list"},a("li",{class:"search-pro-result-list-item"},[a("div",{class:"search-pro-result-title"},u.value.resultHistory),E.value.map((e,t)=>a(P,{to:e.link,class:["search-pro-result-item",{active:!o.isQuery&&o.index===t}],onClick:()=>{z()}},()=>[a(T,{class:"search-pro-result-type"}),a("div",{class:"search-pro-result-content"},[e.header?a("div",{class:"content-header"},e.header):null,a("div",e.display.map(i=>Q(i)).flat())]),a("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:i=>{i.preventDefault(),i.stopPropagation(),w(t)}})]))])):null;return ue("keydown",e=>{if(r.isFocusing){if(b.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const t=k.value.contents[h.value];g(r.queries.join(" ")),d(t),s.push(_(t)),z()}}else if(m){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")Y();else if(e.key==="Enter"){const{index:t}=o;o.isQuery?(l("updateQuery",p.value[t]),e.preventDefault()):(s.push(E.value[t].link),z())}}}}),U([c,h],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>a("div",{class:["search-pro-result-wrapper",{empty:r.queries.length?!b.value:!q.value}],id:"search-pro-results"},r.queries.length?A.value?a(ie,{hint:u.value.searching}):b.value?a("ul",{class:"search-pro-result-list"},B.value.map(({title:e,contents:t},i)=>{const D=c.value===i;return a("li",{class:["search-pro-result-list-item",{active:D}]},[a("div",{class:"search-pro-result-title"},e||u.value.defaultTitle),t.map((n,ee)=>{const j=D&&h.value===ee;return a(P,{to:_(n),class:["search-pro-result-item",{active:j,"aria-selected":j}],onClick:()=>{g(r.queries.join(" ")),d(n),z()}},()=>[n.type==="text"?null:a(n.type==="title"?ne:n.type==="heading"?Ee:ce,{class:"search-pro-result-type"}),a("div",{class:"search-pro-result-content"},[n.type==="text"&&n.header?a("div",{class:"content-header"},n.header):null,a("div",W(n))])])})])})):u.value.emptyResult:R?q.value?[X(),Z()]:u.value.emptyHistory:u.value.emptyResult)}});export{Re as default};
